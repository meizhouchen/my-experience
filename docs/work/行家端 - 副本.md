# 需求分析

## 原始需求
[【H5】-H5页面可在行家维护，可对商家进行排序设置](https://www.tapd.cn/53440148/prong/stories/view/1153440148001038433)

## 需求分析
- H5页面根据打标签来分专区
- 所以建议预留前10位进行人工干预
- 配置的就按配置走
- 未配置的按照原有规则排序


# 解决方案

## 一级菜单【运营活动】管理下新增二级菜单【h5配置】
前端涉及页面：`src/views/operationManagement/h5ActivityConfig.vue`
后端接口涉及：
admin-server
- h5ActivityConfig/list列表接口

字段：序号、h5标题、创建时间、创建人、h5链接（需要可以复制）


## 新增、编辑h5配置页
表单字段
- h5标题：限30个字，超过截断处理
- h5头图：仅上传一张，上传后删除可再次上传
- h5背景色的色值：用于h5列表背景的设置
- 基础信息项全部为必填，为空提示：请填写XXX～
- 活动规则：必填，富文本，限10000字，超过截断处理

预览基础信息：
- 点击预览基础信息可在页面右侧查看基础信息的效果
- 预览头图和背景
- 跳转活动规则


前端涉及页面：`src/views/operationManagement/h5ActivityConfig.vue`
后端接口涉及：
H5活动信息列表查询接口`/fhgl-activity/common/activity/query`


基本信息的添加、编辑接口

## 配置商家页

批量添加商家
- 模板上传OSS成功，通知java后端处理

## table表格
- 点击展示数据按钮，查询分页接口
- 默认为空表格
- 调用删除和排序接口

添加单个商家
- 采用搜索的方式进行添加，输入关键词模糊匹配，展示10条匹配结果
- 搜索商家需要过滤掉未正常运营的商家
- 手动添加的商家数据排在第一页最前面
- 展示最符合的前10个

后端接口涉及：
- 下载模板
- 删除单独调用一个接口
- 添加商家
- 查询商家列表



# 自测用例
|| **Test Case** || **用例目的** || **输入** || **输出** || **期望结果** || **测试结果** || **说明** ||
||商家开通工会卡专享价 ||验证商家开通工会卡专享价是否正常||商家id，是否设置工会卡专享价||||||||||
||菜品设置工会卡专享价 ||验证菜品设置工会卡专享价是否正常||菜品id，工会专享价||||||||||